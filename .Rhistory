library(DBI)
install.packages("RMySQL")
library(RMySQL)
install.packages("RMySQL")
library(RMySQL)
install.packages("RMySQL")
library(DBI)
library(RMySQL)
install.packages("RMySQL")
setwd("~/RStudio/r_aecid")
library(dplyr)
#library()
m2<-read.csv("csv/m2_data.csv")
summarise(m2)
head(m2)
summarise(m2)
summary(m2)
subset(m2,departamento=='')
subset(m2,departamento=='' & fase=='Concluido' & estado='published')
subset(m2,departamento=='' & fase=='Concluido' & estado=='published')
subset(m2,departamento=='' & fase=='Concluido' & estado=='published')[1]
subset(m2,departamento=='' & fase=='Concluido' & estado=='published')[1][row.names==FALSE]
?write
write.table(t1,"validar.txt")
t1<-subset(m2,departamento=='' & fase=='Concluido' & estado=='published')[1]
write.table(t1,"export/validar.txt",sep = '\t')
write.table(t1,"export/validar.txt",sep = '\t',col.names = FALSE)
write.table(t1,"export/validar.txt",sep = '\t',row.names = FALSE)
rm(t1)
#library()
m2<-read.csv("csv/m2_data.csv")
summary(m2)
subset(m2,porcentaje=='NA')
m2[is.na(m2$porcentaje)]
m2[is.na(m2$porcentaje),]
data.dep<-function(dep){
tbl1<-subset(m2,departamento==dep & fase=='Concluido' & estado=='published')
}
data.dep<-function(dep){
tbl1<-subset(m2,departamento==dep & fase=='Concluido' & estado=='published')
return(tbl1)
}
t1<-data.dep('Amazonas')
head(t1)
m1<-read.csv("csv/m1_data.csv")
rm(t1)
subset(m2,departamento=='Amazonas' & fase=='Concluido' & estado=='published')
d1<-subset(m2,departamento=='Amazonas' & fase=='Concluido' & estado=='published')
head(d1)
select(d1,id,monto==monto_total_español)
select(d1,id,monto_total_español)
head(select(d1,id,monto_total_español))
head(select(d1,id,monto==monto_total_español))
head(select(d1,id,monto=monto_total_español))
rm(d1)
head(m1)
m1<-read.csv("csv/m1_data.csv")
head(m1)
t1<-data.dep('Amazonas')
head(t1)
d1<-subset(m1,departamento=='Amazonas' & fase=='Concluido' & estado=='Publicado')
d1<-subset(m1,Departamento=='Amazonas' & Fase=='Concluido' & Estado=='Publicado')
d1<-select(d1,id,monto=monto_total_español)
d1<-select(d1,id,monto=Monto.total.español)
select(d1,id,monto=Monto.total.español)
head(d1)
d1<-select(d1,id=Ubicacion_Id,monto=Monto.total.español)
head(d1)
d2<-subset(m2,departamento=='Amazonas' & fase=='Concluido' & estado=='published')
d2<-select(d2,id,monto=monto_total_español)
a<-anti_join(d1,d2)
head(a)
a
d1<-select(d1,id=Intervencion_Id,monto=Monto.total.español)
d1<-subset(m1,Departamento=='Amazonas' & Fase=='Concluido' & Estado=='Publicado')
d1<-select(d1,id=Intervencion_Id,monto=Monto.total.español)
a<-anti_join(d1,d2)
a
rm(d1)
rm(d2)
rm(a)
data.dep<-function(dep){
d1<-subset(m1,Departamento==dep & Fase=='Concluido' & Estado=='Publicado')
d1<-select(d1,id=Intervencion_Id,monto=Monto.total.español)
d2<-subset(m2,departamento==dep & fase=='Concluido' & estado=='published')
d2<-select(d2,id,monto=monto_total_español)
a<-anti_join(d1,d2)
return(a)
}
tbl1<-data.dep('Amazonas')
rm(t1)
rm(tbl1)
data.dep('Amazonas')
data.dep('Apurímac')
data.dep('Ayacucho')
data.dep('Huancavelica')
1645994.32+451801.76
data.dep('Huánuco')
data.dep('Ica')
data.dep('Lima')
data.dep('Loreto')
data.dep('Pasco')
data.dep('Piura')
data.dep<-function(dep,tipo){
d1<-subset(m1,Departamento==dep & Fase=='Concluido' & Estado=='Publicado')
d2<-subset(m2,departamento==dep & fase=='Concluido' & estado=='published')
if(tipo=='M'){
d1<-select(d1,monto=Monto.total.español)
d2<-select(d2,monto=monto_total_español)
}else{
d1<-select(d1,id=Intervencion_Id,monto=Monto.total.español)
d2<-select(d2,id,monto=monto_total_español)
}
a<-anti_join(d1,d2)
return(a)
}
data.dep<-function(dep,tipo=''){
d1<-subset(m1,Departamento==dep & Fase=='Concluido' & Estado=='Publicado')
d2<-subset(m2,departamento==dep & fase=='Concluido' & estado=='published')
if(tipo=='M'){
d1<-select(d1,monto=Monto.total.español)
d2<-select(d2,monto=monto_total_español)
}else{
d1<-select(d1,id=Intervencion_Id,monto=Monto.total.español)
d2<-select(d2,id,monto=monto_total_español)
}
a<-anti_join(d1,d2)
return(a)
}
data.dep('Piura')
data.dep('Piura','M')
head(m1)
head(m1[Monto.total.español])
head(m1[7])
sum(m1[7])
head(select(m1,Fase=='Concluido' & Estado=='Publicado')[7])
head(select(m1,Fase=='Concluido' & Estado=='Publicado'))
